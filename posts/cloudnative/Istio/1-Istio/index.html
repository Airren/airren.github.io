<!DOCTYPE html>
<html>
  <head>
    <title></title>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />


<link rel="stylesheet" href="/css/bootstrap.min.css"/>
<link rel="stylesheet" href="/css/layouts/main.css"/>
<link rel="stylesheet" href="/css/navigators/navbar.css"/>
<link rel="stylesheet" href="/css/plyr.css"/>

<link rel="stylesheet" href="/css/flag-icon.min.css"/>


<link rel="stylesheet" href="/google-fonts/Mulish/mulish.css"/>


<link rel="stylesheet" href="/fontawesome/css/all.min.css"/>







  

  
  
  
    
  
  

  <link rel="icon" type="image/png" href="/images/site/favicon_hufa9bb061875e5783d83b75135c052e0b_6105_42x0_resize_box_3.png" />

<meta property="og:title" content="" />
<meta property="og:description" content="Service Mesh 浅析
Istio的自我救赎
https://github.com/cloudnativebooks/cloud-native-istio/tree/master/chapter-files/security
云原生架构的三驾马车
Kubenetes， Service Mesh , Serverless
Servcie Mesh 超时重试
16年概念提出。
技术选型？
ServiceMesh 的相关概念
Service Mesh的起源
微服务架构的特性
围绕业务构建团队 康威定律-&gt; 团队结构决定了产品结构
去中心化的数据管理
团队层面： 内聚，独立业务开发，没有依赖
产品层面： 服务彼此独立，独立部署，没有依赖
访问量决定部署实例的数量
银弹理论-&gt; 人月神话 没有任何一种技术可以完美的解决软件开发中的问题。
空间换时间 or 时间换空间
微服务架构带来的缺点
服务间网络通信问题
分布式计算的8个谬论
网络是可靠的 网络延时是0 很难会把网络相关的需求考虑到我们的设计中。分布式系统中，网络问题是一个重要问题。
如何管理和控制网络通信
辅助注册、发现
路由，流量转移
弹性能力 熔断超时重试
安全
可观测性
Patten： Service Mesh
阶段一： 控制逻辑与业务逻辑耦合
阶段二： 公共库：流控，重试 （人力，时间学习，语言蚌绑定，平台相关，代码侵入）
阶段三：代理模式， 功能简陋Nginx
阶段四： Sidecar 模式 2013-2105
阶段五： Service Mesh 2016-2017
​ Service MeshV2 2018" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://airren.github.io/posts/cloudnative/Istio/1-Istio/" /><meta property="article:section" content="posts" />




    
    
<meta name="description" content="" />
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css"
/>
<link rel="stylesheet" href="/css/layouts/single.css"/>
<link rel="stylesheet" href="/css/navigators/sidebar.css">

<link rel="stylesheet" href="/css/style.css"/>



    




</head>

  <body data-spy="scroll" data-target="#TableOfContents" data-offset="80">
    <div class="container-fluid bg-dimmed wrapper">
      
      
    





  


  




  
  
    
  
  



  
  
    
  
  


<nav class="navbar navbar-expand-xl top-navbar final-navbar shadow">
  <div class="container">
      <button class="navbar-toggler navbar-light" id="sidebar-toggler" type="button" onclick="toggleSidebar()">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a class="navbar-brand" href="/">
      
        <img src="/images/site/main-logo_hue3dcebd3233f4247380b642debb20e00_8242_42x0_resize_box_3.png" alt="Logo">
      ByteGopher</a>
    <button class="navbar-toggler navbar-light" id="toc-toggler" type="button" onclick="toggleTOC()">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse lang-selector" id="top-nav-items">
      <ul class="navbar-nav ml-auto">
      
      
      </ul>
    </div>
  </div>
  
  
    <img src="/images/site/main-logo_hue3dcebd3233f4247380b642debb20e00_8242_42x0_resize_box_3.png" class="d-none" id="main-logo" alt="Logo">
  
  
    <img src="/images/site/inverted-logo_hu625a7b1b3d293b5088d5bed0b0ae5735_6060_42x0_resize_box_3.png" class="d-none" id="inverted-logo" alt="Inverted Logo">
  
</nav>



      
      
  <section class="sidebar-section" id="sidebar-section">
    <div class="sidebar-holder">
      <div class="sidebar" id="sidebar">
        <form class="mx-auto" method="get" action="/search">
          <input type="text" name="keyword" value="" placeholder="Search" data-search="" id="search-box" />
        </form>
        <div class="sidebar-tree">
          <ul class="tree" id="tree">
            <li id="list-heading"><a href="/posts/" data-filter="all">Posts</a></li>
            <div class="subtree">
                
  
  
  
  
  
    
    <li><a class="" href="/posts/blog/" title="Blog">Blog</a></li>
  

  
  
  
  
    
    
  
  
    
    <li><a class="active" href="/posts/cloudnative/" title="CloudNative">CloudNative</a></li>
  

  
  
  
  
  
    
    <li>
      <i class="fas fa-plus-circle"></i><a class="" href="/posts/component/">Infrastructure</a>
      
      <ul class="">
        
  
  
  
  
  
    
    <li><a class="" href="/posts/component/TimeSeries/" title="TimeSeriesDB">TimeSeriesDB</a></li>
  


      </ul>
    </li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/kubernetes/" title="Kubernetes">Kubernetes</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/note_c/" title="Note C">Note C</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/note_go/" title="Note Go">Note Go</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/react/" title="React">React</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/sdewan/" title="SDEWAN">SDEWAN</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/tips/" title="Tips">Tips</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/nodus/" title="Nodus">Nodus</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/interview/" title="Interview">Interview</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/life/" title="Life">Life</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/linux/" title="Linux">Linux</a></li>
  


            </div>
          </ul>
        </div>
      </div>
    </div>
  </section>


      
      
<section class="content-section" id="content-section">
  <div class="content">
    <div class="container p-0 read-area">
      
      <div class="hero-area col-sm-12" id="hero-area" style='background-image: url(/images/default-hero.jpg);'>
      </div>

      
      <div class="page-content">
        <div class="author-profile ml-auto align-self-lg-center">
          <img class="rounded-circle" src='/images/author/airren_hua190a7ea0abcfe5733aac4e715353a6c_101835_120x120_fit_box_3.png' alt="Author Image">
          <h5 class="author-name">Airren Ren</h5>
          <p>Monday, January 1, 1</p>
        </div>

        <div class="title">
          <h1></h1>
        </div>
        
        <div class="taxonomy-terms">
          <ul style="padding-left: 0;">
            
          </ul>
        </div>
        
        <div class="post-content" id="post-content">
          <p>Service Mesh 浅析</p>
<p>Istio的自我救赎</p>
<p><a href="https://github.com/cloudnativebooks/cloud-native-istio/tree/master/chapter-files/security" target="_blank">https://github.com/cloudnativebooks/cloud-native-istio/tree/master/chapter-files/security</a></p>
<p>云原生架构的三驾马车</p>
<p>Kubenetes， Service Mesh , Serverless</p>
<p>Servcie Mesh  超时重试</p>
<p>16年概念提出。</p>
<p>技术选型？</p>
<p>ServiceMesh 的相关概念</p>
<p>Service Mesh的起源</p>
<Micro Sercvice>
<p>微服务架构的特性</p>
<ol>
<li>围绕业务构建团队</li>
</ol>
<p>康威定律-&gt; 团队结构决定了产品结构</p>
<ol start="2">
<li>
<p>去中心化的数据管理</p>
<p>团队层面： 内聚，独立业务开发，没有依赖</p>
<p>产品层面： 服务彼此独立，独立部署，没有依赖</p>
<p>访问量决定部署实例的数量</p>
<p>银弹理论-&gt; 人月神话 没有任何一种技术可以完美的解决软件开发中的问题。</p>
<p>空间换时间 or 时间换空间</p>
<p>微服务架构带来的缺点</p>
<p>服务间网络通信问题</p>
<p>分布式计算的8个谬论</p>
<ul>
<li>网络是可靠的 网络延时是0</li>
</ul>
<p>很难会把网络相关的需求考虑到我们的设计中。分布式系统中，网络问题是一个重要问题。</p>
<p>如何管理和控制网络通信</p>
<p>辅助注册、发现</p>
<p>路由，流量转移</p>
<p>弹性能力 熔断超时重试</p>
<p>安全</p>
<p>可观测性</p>
<p>Patten： Service Mesh</p>
<p>阶段一： 控制逻辑与业务逻辑耦合</p>
<p>阶段二： 公共库：流控，重试 （人力，时间学习，语言蚌绑定，平台相关，代码侵入）</p>
<p>阶段三：代理模式， 功能简陋Nginx</p>
<p>阶段四： Sidecar 模式 2013-2105</p>
<p>阶段五： Service Mesh 2016-2017</p>
<p>​    Service MeshV2 2018</p>
<p>《What&rsquo;s service mesh? And why do I need one?》</p>
<p>Data plane</p>
</li>
</ol>
<p>Service Mesh产生的原因</p>
<p>Service Mesh的核心功能</p>
<p>Istio</p>
<p>流量控制 路由，熔断，超时重试</p>
<p>安全</p>
<p>可观测性</p>
<p>Service Mesh 的主要功能</p>
<p>流量控制： 路由， 流量转移，超时重试，熔断， 故障注入， 流量镜像</p>
<p>策略： 流量限制， 黑白名单</p>
<p>网络安全：授权以及身份认证</p>
<p>可观测性： 指标手机和展示，日志收集， 分布式追踪</p>
<p>Kubernetes：</p>
<p>解决容器编排与调度问题， 本质上是管理应用生命周期， 调度器</p>
<p>Ingress ？k</p>
<p>Servcie Mesh:</p>
<p>解决服务网络通信问题，本质上是管理服务通信(代理)</p>
<p>标准</p>
<p>UDPA（Universal Data Plane API） 统一的数据平面API</p>
<p>envoy</p>
<p>Cloud Native Computing  Foundation</p>
<p>应用层-&gt; SMI-&gt; 控制平面 -&gt; UDPA-&gt; 数据平面</p>
<p>SMI(Service Mesh Interface)</p>
<p><p class="md__image">








             <img src="image-20211104224250647.png" alt="image-20211104224250647" />



</p>
</p>
<p>envoy xDS 协议</p>
<p>AWS： app mesh</p>
<h2 id="istio-入门">Istio 入门</h2>
<p>Istio 是一个完全开源的服务网格， 作为透明的一怎</p>
<p>服务网格产品</p>
<p>Istio 希腊语，杨帆起航</p>
<p>kubernetes 希腊语，舵手</p>
<p>数据平面，控制平面</p>
<p>lyft ？</p>
<p>轻松构建服务网格，</p>
<p>灰度发布</p>
<p>蓝绿部署</p>
<p>AB测试</p>
<p>流量 安全 策略 可观测性</p>
<p>Mixer 废弃，转移到envoy中</p>
<p>Google ： Istio, gRPC，Kubernetes</p>
<p><p class="md__image">








             <img src="image-20211105010441022.png" alt="image-20211105010441022" />



</p>
</p>
<p><p class="md__image">








             <img src="image-20211105010705390.png" alt="image-20211105010705390" />



</p>
</p>
<p>性能问题加重</p>
<p>易用性</p>
<p>解耦 要让步于 取舍</p>
<p>MVP理论 《 精益创业》</p>
<p><p class="md__image">








             <img src="image-20211105011136576.png" alt="image-20211105011136576" />



</p>
</p>
<p><p class="md__image">








             <img src="image-20211105011416155.png" alt="image-20211105011416155" />



</p>
</p>
<p><p class="md__image">








             <img src="image-20211105011517090.png" alt="image-20211105011517090" />



</p>
</p>

        </div>

        
        <div class="row pl-3 pr-3">
        
        <div class="col-md-6 share-buttons">
        
          </div>

        
        
          
            
          
          <div class="col-md-6 btn-improve-page">
             
               <a href="https://github.com/airren/airren.github.io/edit/master/content/posts/cloudnative/Istio/1-Istio.md" title="Improve this page" target="_blank" rel="noopener">
            
                <i class="fas fa-code-branch"></i>
                Improve this page
              </a>
          </div>
        
        </div>



      
      <hr />
        







  





  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  


<div class="row next-prev-navigator">
  
  
</div>

      <hr />

      
      
        
    




<div id="utteranc_thread"></div>
<div id="comments" class="comments">
    <div id="comments-container"></div>
</div>
<script type="text/javascript">
    (function() {
        var utterances = document.createElement('script');
        utterances.type = 'text/javascript';
        utterances.async = true;
        utterances.setAttribute('repo','Airren\/airren.github.io')
        utterances.setAttribute('issue-term','url')
        utterances.setAttribute('theme','light')
        utterances.crossorigin = 'anonymous';
        utterances.src = 'https://utteranc.es/client.js';

        document.getElementById('comments-container').appendChild(utterances);
    })();
</script>




      

      
      

      </div>
    </div>
  </div>
  
  <a id="scroll-to-top" class="btn"><i class="fas fa-chevron-circle-up"></i></a>
  
</section>


      
      
  <section class="toc-section" id="toc-section">
    
    <div class="toc-holder">
      <h5 class="text-center pl-3">Table of Contents</h5>
      <hr>
      <div class="toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#istio-入门">Istio 入门</a></li>
  </ul>
</nav>
      </div>
    </div>
    
  </section>

    </div>

    
    












  
  
    
  

  
  
    
  

  
  
    
  

  
  
    
    
      
    
  


  
  
  

  
  
  

  
  
  
    
  
  

  
  
  

  <footer id="footer" class="container-fluid text-center align-content-center footer pb-2">
    <div class="container pt-5">
      <div class="row text-left">
        
        <div class="col-md-4 col-sm-12">
          <h5>Navigation</h5>
          
          <ul>
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="https://airren.github.io/#about">About</a>
                </li>
              
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="https://airren.github.io/#skills">Skills</a>
                </li>
              
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="https://airren.github.io/#recent-posts">Recent Posts</a>
                </li>
              
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="https://airren.github.io/#achievements">My Story</a>
                </li>
              
            
              
                
              
            
          </ul>
          
        </div>
        
        
        <div class="col-md-4 col-sm-12">
          <h5>Contact me:</h5>
          <ul>
            
              
                <li><a href=mailto:airrenzero#gmail.com target="_blank" rel="noopener">
                  <span><i class="fas fa-envelope"></i></span> <span>airrenzero#gmail.com</span>
                </a></li>
              
            
              
                <li><span><i class="fas fa-phone-alt"></i></span> <span>&#43;86 1881733xxxx</span></li>
              
            
          </ul>
        </div>
        
        
        
          
          <div class="col-md-4 col-sm-12">
            <p>Stay up to date with email notification</p>
              
              <form
                action="https://github.us1.list-manage.com/subscribe/post?u=19de52a4603135aae97163fd8&amp;amp;id=094a24c76e"
                method="post"
                id="mc-embedded-subscribe-form"
                name="mc-embedded-subscribe-form"
                class="validate"
                target="_blank"
                novalidate >
                <div class="form-group">
                  <input
                    type="email"
                    class="form-control"
                    id="mce-EMAIL"
                    name="EMAIL"
                    aria-describedby="emailHelp"
                    placeholder="Enter email"
                  />
                  <small id="emailHelp" class="form-text text-muted"
                    >By entering your email address, you agree to receive the newsletter of this website.</small
                  >
                </div>
                <button type="submit" class="btn btn-info">Submit</button>
              </form>
            
          </div>
        
      </div>
    </div>
    
    
    <hr />
    <div class="container">
      <div class="row text-left">
        <div class="col-md-4">
          <a id="theme" href="https://github.com/hugo-toha/toha" target="_blank" rel="noopener">
            <img src="/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png" alt="Toha Theme Logo">
            Toha
          </a>
        </div>
        <div class="col-md-4 text-center">© 2020-2021 Copyright.</div>
        <div class="col-md-4 text-right">
          <a id="hugo" href="https://gohugo.io/" target="_blank" rel="noopener">Powered by
          <img
            src="/images/hugo-logo.svg"
            alt="Hugo Logo"
            height="18"
          />
          </a>
        </div>
      </div>
    </div>
    
  </footer>


    <script type="text/javascript" src="/js/jquery-3.4.1.min.js"></script>
<script type="text/javascript" src="/js/popper.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>

<script type="text/javascript" src="/js/navbar.js"></script>
<script type="text/javascript" src="/js/plyr.js"></script>
<script type="text/javascript" src="/js/main.js"></script>



    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
<script src="/js/single.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>









    
</body>
</html>
