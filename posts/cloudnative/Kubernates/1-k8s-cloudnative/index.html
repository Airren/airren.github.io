<!DOCTYPE html>
<html>
  <head>
    <title>K8s Cloud Native</title>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />


<link rel="stylesheet" href="/css/bootstrap.min.css"/>
<link rel="stylesheet" href="/css/layouts/main.css"/>
<link rel="stylesheet" href="/css/navigators/navbar.css"/>
<link rel="stylesheet" href="/css/plyr.css"/>

<link rel="stylesheet" href="/css/flag-icon.min.css"/>


<link rel="stylesheet" href="/google-fonts/Mulish/mulish.css"/>


<link rel="stylesheet" href="/fontawesome/css/all.min.css"/>







  

  
  
  
    
  
  

  <link rel="icon" type="image/png" href="/images/site/favicon_hufa9bb061875e5783d83b75135c052e0b_6105_42x0_resize_box_3.png" />

<meta property="og:title" content="K8s Cloud Native" />
<meta property="og:description" content="Kubenetesç”Ÿäº§è½åœ°å…¨ç¨‹å®è·µ
æ ¸å¿ƒæ¦‚å¿µ
æ¶æ„è®¾è®¡
è®¤è¯æˆæƒ
é«˜å¯ç”¨é›†ç¾¤æ­å»º
äºŒè¿›åˆ¶&amp; kubeadm
3å°masterä¸¤å°2 node
calicoã€corednsã€dashboard
ä¸šåŠ¡è¿ç§»åˆ°Kubenetes
Harbor
æœåŠ¡å‘ç°ç­–ç•¥
IngressNginx
Docker åŒ–æœåŠ¡ã€K8sã€æœåŠ¡å‘ç°
CICD
namespaceã€resourcesã€label
æœåŠ¡çš„è°ƒåº¦ä¸ç¼–æ’
å¥åº·æ£€æŸ¥
è°ƒåº¦ç­–ç•¥
éƒ¨ç½²ç­–ç•¥
æ—¥å¿—ä¸ç›‘æ§
ç¬¬2ç«  kuberneteså¿«é€Ÿå…¥é—¨ æœ¬ç« ä¸­å°†ä»æ ¸å¿ƒæ¦‚å¿µã€æ¶æ„è®¾è®¡ã€è®¤è¯æˆæƒä»¥åŠé›†ç¾¤æ­å»ºæ–¹æ¡ˆå¯¹æ¯”å‡ æ–¹é¢ï¼Œå¸¦é¢†å¤§å®¶å¿«é€ŸæŒæ¡kubernetesçš„é‡è¦çŸ¥è¯†ç‚¹ï¼ŒåŠ©åŠ›å¿«é€Ÿå…¥é—¨ã€‚
2-1 äº†è§£kubernetes èˆµæ‰‹ï¼š æ¸”ç½‘ã€æ¸”èˆ¹ docker : é²¸é±¼ï¼Œé›†è£…ç®± ğŸ³
Kubernetes is an open-source system for automating deployment, scaling, and management of containerized applications.
It groups containers that makeup application in to logical units for easy management and discovery.Kubernetes builds upon 15 years of experience of running production workloads at Google, combined with best-of-breed ideas and practices from the community." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://airren.github.io/posts/cloudnative/Kubernates/1-k8s-cloudnative/" /><meta property="article:section" content="posts" />




    
    
<meta name="description" content="K8s Cloud Native" />
<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css"
/>
<link rel="stylesheet" href="/css/layouts/single.css"/>
<link rel="stylesheet" href="/css/navigators/sidebar.css">

<link rel="stylesheet" href="/css/style.css"/>



    




</head>

  <body data-spy="scroll" data-target="#TableOfContents" data-offset="80">
    <div class="container-fluid bg-dimmed wrapper">
      
      
    





  


  




  
  
    
  
  



  
  
    
  
  


<nav class="navbar navbar-expand-xl top-navbar final-navbar shadow">
  <div class="container">
      <button class="navbar-toggler navbar-light" id="sidebar-toggler" type="button" onclick="toggleSidebar()">
      <span class="navbar-toggler-icon"></span>
    </button>
    <a class="navbar-brand" href="/">
      
        <img src="/images/site/main-logo_hue3dcebd3233f4247380b642debb20e00_8242_42x0_resize_box_3.png" alt="Logo">
      ByteGopher</a>
    <button class="navbar-toggler navbar-light" id="toc-toggler" type="button" onclick="toggleTOC()">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse lang-selector" id="top-nav-items">
      <ul class="navbar-nav ml-auto">
      
      
      </ul>
    </div>
  </div>
  
  
    <img src="/images/site/main-logo_hue3dcebd3233f4247380b642debb20e00_8242_42x0_resize_box_3.png" class="d-none" id="main-logo" alt="Logo">
  
  
    <img src="/images/site/inverted-logo_hu625a7b1b3d293b5088d5bed0b0ae5735_6060_42x0_resize_box_3.png" class="d-none" id="inverted-logo" alt="Inverted Logo">
  
</nav>



      
      
  <section class="sidebar-section" id="sidebar-section">
    <div class="sidebar-holder">
      <div class="sidebar" id="sidebar">
        <form class="mx-auto" method="get" action="/search">
          <input type="text" name="keyword" value="" placeholder="Search" data-search="" id="search-box" />
        </form>
        <div class="sidebar-tree">
          <ul class="tree" id="tree">
            <li id="list-heading"><a href="/posts/" data-filter="all">Posts</a></li>
            <div class="subtree">
                
  
  
  
  
  
    
    <li><a class="" href="/posts/blog/" title="Blog">Blog</a></li>
  

  
  
  
  
    
    
  
  
    
    <li><a class="active" href="/posts/cloudnative/" title="CloudNative">CloudNative</a></li>
  

  
  
  
  
  
    
    <li>
      <i class="fas fa-plus-circle"></i><a class="" href="/posts/component/">Infrastructure</a>
      
      <ul class="">
        
  
  
  
  
  
    
    <li><a class="" href="/posts/component/TimeSeries/" title="TimeSeriesDB">TimeSeriesDB</a></li>
  


      </ul>
    </li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/kubernetes/" title="Kubernetes">Kubernetes</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/note_c/" title="Note C">Note C</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/note_go/" title="Note Go">Note Go</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/react/" title="React">React</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/tips/" title="Tips">Tips</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/nodus/" title="Nodus">Nodus</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/interview/" title="Interview">Interview</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/life/" title="Life">Life</a></li>
  

  
  
  
  
  
    
    <li><a class="" href="/posts/linux/" title="Linux">Linux</a></li>
  


            </div>
          </ul>
        </div>
      </div>
    </div>
  </section>


      
      
<section class="content-section" id="content-section">
  <div class="content">
    <div class="container p-0 read-area">
      
      <div class="hero-area col-sm-12" id="hero-area" style='background-image: url(/images/default-hero.jpg);'>
      </div>

      
      <div class="page-content">
        <div class="author-profile ml-auto align-self-lg-center">
          <img class="rounded-circle" src='/images/author/airren_hua190a7ea0abcfe5733aac4e715353a6c_101835_120x120_fit_box_3.png' alt="Author Image">
          <h5 class="author-name">Airren Ren</h5>
          <p>Monday, January 1, 1</p>
        </div>

        <div class="title">
          <h1>K8s Cloud Native</h1>
        </div>
        
        <div class="taxonomy-terms">
          <ul style="padding-left: 0;">
            
          </ul>
        </div>
        
        <div class="post-content" id="post-content">
          <p>Kubenetesç”Ÿäº§è½åœ°å…¨ç¨‹å®è·µ</p>
<p>æ ¸å¿ƒæ¦‚å¿µ</p>
<p>æ¶æ„è®¾è®¡</p>
<p>è®¤è¯æˆæƒ</p>
<p>é«˜å¯ç”¨é›†ç¾¤æ­å»º</p>
<p>äºŒè¿›åˆ¶&amp; kubeadm</p>
<p>3å°masterä¸¤å°2 node</p>
<p>calicoã€corednsã€dashboard</p>
<p>ä¸šåŠ¡è¿ç§»åˆ°Kubenetes</p>
<p>Harbor</p>
<p>æœåŠ¡å‘ç°ç­–ç•¥</p>
<p>IngressNginx</p>
<p>Docker åŒ–æœåŠ¡ã€K8sã€æœåŠ¡å‘ç°</p>
<p>CICD</p>
<p>namespaceã€resourcesã€label</p>
<p>æœåŠ¡çš„è°ƒåº¦ä¸ç¼–æ’</p>
<p>å¥åº·æ£€æŸ¥</p>
<p>è°ƒåº¦ç­–ç•¥</p>
<p>éƒ¨ç½²ç­–ç•¥</p>
<p>æ—¥å¿—ä¸ç›‘æ§</p>
<h2 id="ç¬¬2ç« -kuberneteså¿«é€Ÿå…¥é—¨">ç¬¬2ç«  kuberneteså¿«é€Ÿå…¥é—¨</h2>
<p>æœ¬ç« ä¸­å°†ä»æ ¸å¿ƒæ¦‚å¿µã€æ¶æ„è®¾è®¡ã€è®¤è¯æˆæƒä»¥åŠé›†ç¾¤æ­å»ºæ–¹æ¡ˆå¯¹æ¯”å‡ æ–¹é¢ï¼Œå¸¦é¢†å¤§å®¶å¿«é€ŸæŒæ¡kubernetesçš„é‡è¦çŸ¥è¯†ç‚¹ï¼ŒåŠ©åŠ›å¿«é€Ÿå…¥é—¨ã€‚</p>
<h3 id="2-1-äº†è§£kubernetes">2-1 äº†è§£kubernetes</h3>
<p>èˆµæ‰‹ï¼š æ¸”ç½‘ã€æ¸”èˆ¹  docker : é²¸é±¼ï¼Œé›†è£…ç®± ğŸ³</p>
<p>Kubernetes is an open-source system for automating deployment, scaling, and management of containerized applications.</p>
<p>It groups containers that makeup application in to logical units for easy management and discovery.Kubernetes builds upon 15 years of  experience of running production workloads at Google, combined with best-of-breed ideas and practices from the community.</p>
<p>kubernetesçš„ä¸»è¦ç‰¹å¾</p>
<ul>
<li>ä»¥æœåŠ¡ä¸ºä¸­å¿ƒ</li>
<li>è‡ªåŠ¨åŒ–ï¼Œ è‡ªåŠ¨æ‰©ç¼©å®¹ï¼Œæ›´æ–°ã€è´Ÿè½½å‡è¡¡ã€å®ä¾‹çŠ¶æ€</li>
</ul>
<p>kubernetes vs docker</p>
<ul>
<li>ä»¥docker å®¹å™¨æŠ€æœ¯æŠ€æœ¯çš„æ ‡å‡†ä¸ºåŸºç¡€ï¼ŒCRI</li>
</ul>
<p>K8sæ¶æ„è®¾è®¡</p>
<p>podï¼š pause ä½œä¸ºæ ¹å®¹å™¨ï¼Œå…±äº«ç½‘ç»œæ–‡ä»¶ç­‰èµ„æº</p>
<p><p class="md__image">







<img src="image-20210929221556408.png" alt="image-20210929221556408" />



</p>
</p>
<p>labelï¼š deploy/pod/container</p>
<p><p class="md__image">







<img src="image-20210929221845565.png" alt="image-20210929221845565" />



</p>
</p>
<h2 id="heading"></h2>
<h3 id="2-2-kubernetesçš„æ ¸å¿ƒæ¦‚å¿µ">2-2 kubernetesçš„æ ¸å¿ƒæ¦‚å¿µ</h3>
<h3 id="2-3-kubernetesçš„æ¶æ„è®¾è®¡">2-3 kubernetesçš„æ¶æ„è®¾è®¡</h3>
<p>master (APIServer/Scheduler(èµ„æºã€å†…å­˜ã€cpu)/controller(k8sèµ„æºrs,service))        etcd</p>
<p>worker   worker (kubeletç»´æŠ¤podçš„ç”Ÿå‘½å‘¨æœŸï¼Œç½‘ç»œã€volume/ docker )</p>
<img src="1-k8s-cloudnative.assets/image-20210929224628590.png" alt="image-20210929224628590" style="zoom:50%;" />
<h3 id="2-4-kubernetesè®¤è¯çš„å¯†ç å­¦åŸç†-1530">2-4 kubernetesè®¤è¯çš„å¯†ç å­¦åŸç† (15:30)</h3>
<p>è®¤è¯(Authentication)  é˜²æ­¢æœ‰äººå…¥ä¾µ</p>
<p>æˆæƒ(Authorization)</p>
<p>APIserver</p>
<p>A &ndash;8 ç¯¡æ”¹&ndash; &gt;  B</p>
<p>å¯¹ç§°åŠ å¯†ï¼šå°å§å§å¥½å¯çˆ± &ndash;&gt; å¯¹ç§°åŠ å¯† abc123&mdash;&gt;  wqerjqwoeurfasdhjfskalj -&gt; å¯¹ç§°è§£å¯†abc123 &mdash;&gt; å°å§å§å¥½å¯çˆ±</p>
<p>éå¯¹ç§°åŠ å¯†: å°å§å§å¥½å¯çˆ± &ndash;&gt; éå¯¹ç§°åŠ å¯† abc123(å…¬é’¥ public key)&mdash;&gt;  wuqyieruzsxchjfvash -&gt; éå¯¹ç§°è§£å¯†cde987(ç§é’¥ private key) &mdash;&gt; å°å§å§å¥½å¯çˆ±</p>
<p>å‘é€ä¸€ä¸ªhello</p>
<p>serviceA       &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-&gt;             ServiceB</p>
<p>serviceA &mdash;&mdash;&ndash;asdfqwefwsadfasd å¯†æ–‡&mdash;&mdash;&mdash;-&gt; serviceB</p>
<p>A ä½¿ç”¨ serverBçš„pubkeyè¿›è¡ŒåŠ å¯†ï¼Œç„¶åå‘é€åˆ°serverBã€‚ cæˆªè·åä¹Ÿè§£ä¸å¼€ã€‚åªæœ‰Bç”¨è‡ªå·±çš„ç§é’¥æ‰å¯ä»¥è§£å¼€ã€‚éå¯¹ç§°åŠ å¯†ç®—æ³•çš„æ¶ˆè€—æ¯”è¾ƒå¤§ã€‚å¯¹ç§°åŠ å¯†çš„ç®—æ³•æ¶ˆè€—è¾ƒä½ã€‚</p>
<p>ç»“åˆéå¯¹ç§°åŠ å¯†å’Œå¯¹ç§°åŠ å¯†ã€‚</p>
<p>ä½¿ç”¨éå¯¹ç§°åŠ å¯†ï¼ŒåŠ å¯†å¯¹ç§°åŠ å¯†è¦ä½¿ç”¨çš„å¯†é’¥ã€‚å¯ä»¥æŠŠå¯¹ç§°åŠ å¯†éœ€è¦çš„å¯†é’¥å®‰å…¨å¸¦çš„é€åˆ°Bã€‚æ¥ä¸‹æ¥åŒæ–¹å°±å¯ä»¥ä½¿ç”¨å¯¹ç§°åŠ å¯†è¿›è¡Œé€šä¿¡ã€‚</p>
<p>æ€§èƒ½å’Œå®‰å…¨æ€§éƒ½å¾—åˆ°äº†è§£å†³ã€‚</p>
<p>SSL/TLSåè®®  &mdash;&gt; HTTPS</p>
<p>ç›®å‰å¯èƒ½å­˜åœ¨çš„é£é™©å°±æ˜¯B åœ¨è¿”å›pubkeyçš„æ—¶å€™ï¼Œæœ‰å¯èƒ½è¢«Cæˆªè·ï¼ŒCæˆªè·åè¿”å›Cçš„å…¬é’¥ç»™Aï¼Œè¿™æ ·Aå°±æ‹¿åˆ°äº†Cçš„å…¬é’¥ã€‚</p>
<p>CA è®¤è¯æœºæ„ï¼Œè®©Aå¯ä»¥éªŒè¯æ‹¿åˆ°çš„Bçš„pubkey ç¡®å®æ˜¯Bçš„ï¼Œç¡®å®æ˜¯åˆæ³•çš„ï¼Œæ˜¯CAé¢å‘çš„ã€‚</p>
<h3 id="2-5-kubernetesçš„è®¤è¯ä¸æˆæƒ">2-5 kubernetesçš„è®¤è¯ä¸æˆæƒ</h3>
<p>è®¤è¯</p>
<p><strong>1. å®¢æˆ·ç«¯è¯ä¹¦è®¤è¯(TLSåŒå‘è®¤è¯)</strong></p>
<p>CA è‡ªå·±çš„è®¤è¯æœºæ„</p>
<p>ç»™å„ä¸ªç»„ä»¶é¢å‘è¯ä¹¦</p>
<p>kubectl  &mdash;&gt;   API server</p>
<p>åŒå‘è®¤è¯ ï¼š äº’ç›¸éªŒè¯è¯ä¹¦æ˜¯å¦ä¸ºCAé¢å‘</p>
<ul>
<li>
<p>API serveræ˜¯å¦æ˜¯kubectl éœ€è¦è®¿é—®çš„</p>
</li>
<li>
<p>kubectl å®¢æˆ·ç«¯æ˜¯å¦æ˜¯ä¸€ä¸ªåˆæ³•çš„å®¢æˆ·ç«¯</p>
</li>
</ul>
<p><strong>2.BearerToken</strong></p>
<p><strong>3.ServcieAccount</strong></p>
<p>Podä¸API serveræ‰“äº¤é“</p>
<p>(namespaceï¼Œtokenï¼Œca) æŒ‚è½½åˆ°podçš„æ–‡ä»¶ç³»ç»Ÿä¸­</p>
<p>æˆæƒ</p>
<p>ABAC</p>
<p>webhook</p>
<p>RBAC(Role Based Access Control)</p>
<p>User &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-&gt;  Role &mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-&gt; Authority(Resource, Verbs:Curd)</p>
<p>|_ User</p>
<p>|_ ServiceAccount</p>
<p>RoleBinding</p>
<img src="1-k8s-cloudnative.assets/image-20211002162137603.png" alt="image-20211002162137603" style="zoom:50%;" />
<p>AdmisionControl: å‡†å…¥æ§åˆ¶</p>
<p>AlwaysAdmitã€AlwaysDenyã€ServiceAccountã€DenyEscolatingExec</p>
<h3 id="2-6-é›†ç¾¤æ­å»ºæ–¹æ¡ˆå¯¹æ¯”">2-6 é›†ç¾¤æ­å»ºæ–¹æ¡ˆå¯¹æ¯”</h3>
<p>ç¤¾åŒºæ–¹æ¡ˆ</p>
<p>Kubeadmï¼š</p>
<p>Binaryï¼š</p>
<p>æ˜“äºç»´æŠ¤</p>
<p>iterm çº§è”åŠŸèƒ½</p>
<h2 id="ç¬¬3ç« -å®¹å™¨è¿è¡Œæ—¶-docker-or-containerd">ç¬¬3ç«  å®¹å™¨è¿è¡Œæ—¶-Docker or Containerd</h2>
<p>æœ¬ç« ä¸»è¦è®²è§£Docker or Containerdå¦‚ä½•é€‰æ‹©å’Œå…¨é¢ä¸Šæ‰‹å®è·µContainerdã€‚</p>
<p>3-1 Docker or Containerdå¦‚ä½•é€‰æ‹© (07:40)</p>
<p>3-2 Containerdå…¨é¢ä¸Šæ‰‹å®è·µ (26:18)
ç¬¬4ç«  é«˜å¯ç”¨é›†ç¾¤æ­å»º&mdash;kubesprayæ–¹å¼ã€é›†ç¾¤è½åœ°æ–¹æ¡ˆ1ã€‘6 èŠ‚ | 52åˆ†é’Ÿ
æœ¬ç« ä¸­å°†è®²è§£kubesprayé›†ç¾¤æ­å»ºæ–¹æ¡ˆã€‚å¸¦é¢†å¤§å®¶ä¸€èµ·åˆ†ækubesprayéƒ¨ç½²æ–¹æ¡ˆã€åŸºç¡€ç¯å¢ƒã€kubesprayçš„å®‰è£…é…ç½®ã€ç”¨kubesprayä¸€é”®éƒ¨ç½²ç”Ÿäº§çº§K8sé›†ç¾¤ç­‰ï¼Œå…¨é¢ç³»ç»Ÿå­¦ä¼škubesprayçš„é›†ç¾¤è½åœ°æ–¹æ¡ˆã€‚</p>
<p>4-1 åˆ†ækubesprayéƒ¨ç½²æ–¹æ¡ˆï¼Œå‡†å¤‡åŸºç¡€ç¯å¢ƒ (08:42)</p>
<p>4-2 kubesprayçš„å®‰è£…ã€é…ç½® (15:13)</p>
<p>4-3 ç”¨kubesprayä¸€é”®éƒ¨ç½²ç”Ÿäº§çº§k8sé›†ç¾¤ (08:28)</p>
<p>4-4 é›†ç¾¤å†’çƒŸæµ‹è¯• (06:52)</p>
<p>4-5 è®¿é—®dashboard (04:41)</p>
<p>4-6 åŸºäºkubesprayçš„é›†ç¾¤è¿ç»´ (07:20)
ç¬¬5ç«  é«˜å¯ç”¨é›†ç¾¤æ­å»º&mdash;äºŒè¿›åˆ¶æ–¹å¼ã€é›†ç¾¤è½åœ°æ–¹æ¡ˆ2ã€‘9 èŠ‚ | 73åˆ†é’Ÿ
æœ¬ç« ä¸­å°†è®²è§£ï¼Œå¦‚ä½•ä½¿ç”¨äºŒè¿›åˆ¶çš„æ–¹å¼ï¼Œæ­å»ºæœ€æ–°ç‰ˆæœ¬çš„kubernetesé«˜å¯ç”¨é›†ç¾¤ã€‚åŒæ ·ä¼šä»¥ä¸‰ä¸ªmasterï¼Œä¸¤ä¸ªworkerèŠ‚ç‚¹ä¸ºä¾‹ï¼Œä¼šé’ˆå¯¹é›†ç¾¤å¯ç”¨æ€§è¿›è¡Œçš„æµ‹è¯•ï¼Œå¹¶å®Œæˆdashboardçš„æ­å»ºå’Œä½¿ç”¨ã€‚å¹¶åœ¨æœ¬ç« ç»“å°¾ï¼Œé€šè¿‡æ–‡æ¡£æ–¹å¼ï¼Œé’ˆå¯¹å‰é¢å†…å®¹è¿›è¡Œæ€»ç»“ï¼Œä¾¿äºåŒå­¦ä»¬å›é¡¾æŸ¥é˜…ã€‚&hellip;</p>
<p>5-1 åŸºç¡€ç¯å¢ƒå‡†å¤‡ (13:58)</p>
<p>5-2 ç”Ÿæˆè¯ä¹¦ (10:58)</p>
<p>5-3 kuberneteså„ç»„ä»¶çš„è®¤è¯é…ç½® (04:31)</p>
<p>5-4 éƒ¨ç½²etcdé›†ç¾¤ (04:08)</p>
<p>5-5 éƒ¨ç½²kubernetesæ§åˆ¶å¹³é¢ (08:16)</p>
<p>5-6 éƒ¨ç½²kuberneteså·¥ä½œèŠ‚ç‚¹ (13:38)</p>
<p>5-7 ç½‘ç»œæ’ä»¶-Calico_1 (06:00)</p>
<p>5-8 DNSæ’ä»¶-CoreDNS (04:40)</p>
<p>5-9 é›†ç¾¤å†’çƒŸæµ‹è¯• (06:36)
ç¬¬6ç«  ä¸šåŠ¡ç³»ç»Ÿè¿ç§»kubernetes&mdash;å‡†å¤‡å·¥ä½œã€ä¸ºå¹³ç¨³è¿ç§»åšå¥½å‚¨å¤‡ã€‘6 èŠ‚ | 90åˆ†é’Ÿ
æ­å»ºå®Œé›†ç¾¤è¿˜ä¸èƒ½é©¬ä¸Šè¿ç§»ä¸šåŠ¡ï¼Œæœ¬ç« ä¸­å°†è®²è§£è¿ç§»å‰çš„ä¸€äº›å‡†å¤‡å·¥ä½œï¼šåŒ…æ‹¬é•œåƒä»“åº“harborçš„å…¥é—¨å’Œéƒ¨ç½²ã€å¯¹kubernetesæœåŠ¡å‘ç°æ–¹æ¡ˆçš„å­¦ä¹ åˆ†æä»¥åŠingress-nginxæœåŠ¡å‘ç°æ–¹æ¡ˆçš„éƒ¨ç½²ã€‚</p>
<p>6-1 Harborå…¥é—¨ (17:06)</p>
<p>6-2 Harboré«˜å¯ç”¨éƒ¨ç½²ï¼ˆä¸Šï¼‰ (11:50)</p>
<p>6-3 Harboré«˜å¯ç”¨éƒ¨ç½²ï¼ˆä¸‹ï¼‰ (12:21)</p>
<img src="1-k8s-cloudnative.assets/image-20211002222547781.png" alt="image-20211002222547781" style="zoom:50%;" />
<h3 id="6-4-kubernetesçš„æœåŠ¡å‘ç°">6-4 kubernetesçš„æœåŠ¡å‘ç°</h3>
<p>é›†ç¾¤å†…éƒ¨</p>
<p>é›†ç¾¤å†…-&gt; é›†ç¾¤å¤–</p>
<p>é›†ç¾¤å¤–-&gt; é›†ç¾¤å†…</p>
<p><p class="md__image">







<img src="image-20211002225039041.png" alt="image-20211002225039041" />



</p>
</p>
<p>6-5 éƒ¨ç½²ingress-nginxï¼ˆä¸Šï¼‰ (14:52)</p>
<p>6-6 éƒ¨ç½²ingress-nginxï¼ˆä¸‹ï¼‰ (13:36)
ç¬¬7ç«  ä¸šåŠ¡ç³»ç»Ÿè¿ç§»kubernetes&mdash;æœ€ä½³å®è·µã€å¤šç±»å‹ä¸šåŠ¡è¿ç§»è½åœ°ã€‘7 èŠ‚ | 86åˆ†é’Ÿ
æœ¬ç« ä¸­å°†åˆ†æå¦‚ä½•å°†édockerä¸šåŠ¡è¿ç§»åˆ°dockerã€ä½¿dockeræœåŠ¡è¿è¡Œåœ¨kubernetesä¸­ï¼Œä»¥åŠåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„çš„é—®é¢˜ã€‚åŒæ—¶ä¹Ÿä¼šä»‹ç»ï¼Œå°†å®šæ—¶ä»»åŠ¡ã€ä¼ ç»Ÿçš„webæœåŠ¡ã€springbootçš„webæœåŠ¡è¿˜æœ‰dubboæœåŠ¡è¿ç§»éƒ¨ç½²åœ¨kubernetesä¸­çš„å…¨è¿‡ç¨‹ã€‚</p>
<p>7-1 å®šæ—¶ä»»åŠ¡è¿ç§»kubernetes (21:56)</p>
<p>æœåŠ¡åšåˆ°é•œåƒé‡Œ</p>
<ul>
<li>åŸºç¡€é•œåƒ</li>
<li>æå®šæœåŠ¡è¿è¡Œçš„ç›¸å…³æ–‡ä»¶</li>
<li>æ„å»ºé•œåƒ Dockerfile</li>
</ul>
<p>åˆ¶ä½œK8sæœåŠ¡ï¼Œå¹¶è°ƒåº¦</p>
<ul>
<li>ç¡®å®šæœåŠ¡å‘ç°çš„ç­–ç•¥</li>
<li>ç¼–å†™K8sé…ç½®</li>
<li></li>
</ul>
<p>å›¾æ–‡ï¼š
7-2 ã€ä¸ç†Ÿæ‚‰SpringBootçš„ç­’å­çœ‹è¿‡æ¥ã€‘SpringBootå¿«é€Ÿå…¥é—¨</p>
<p>7-3 springbootçš„webæœåŠ¡è¿ç§»kubernetes (11:29)
å›¾æ–‡ï¼š
7-4 ã€ä¸ç†Ÿæ‚‰Dubboçš„ç­’å­çœ‹è¿‡æ¥ã€‘Dubboå¿«é€Ÿå…¥é—¨</p>
<p>7-5 ä¼ ç»ŸdubboæœåŠ¡è¿ç§»kubernetesï¼ˆä¸Šï¼‰ (16:22)</p>
<p>7-6 ä¼ ç»ŸdubboæœåŠ¡è¿ç§»kubernetesï¼ˆä¸‹ï¼‰ (16:08)</p>
<p>7-7 ä¼ ç»ŸwebæœåŠ¡è¿ç§»kubernetes (19:40)
ç¬¬8ç«  CICDå®è·µã€åªä¼šè¿ç§»è¿˜ä¸å¤Ÿï¼ŒæŒç»­é›†æˆèµ°èµ·ã€‘5 èŠ‚ | 70åˆ†é’Ÿ
æœ¬ç« å°†è®²è§£å¦‚ä½•è®©æœåŠ¡å¯ä»¥åœ¨kubernetesé‡Œé¢å®ç°æŒç»­é›†æˆã€‚é€æ­¥å®ç°gitlabç®¡ç†ä»£ç ã€mavenæ„å»ºã€dockerå®ç°é•œåƒçš„æ„å»ºã€æ¨é€åˆ°harborä»“åº“ä»¥åŠé€šè¿‡è„šæœ¬è·Ÿkuberneteså¯¹æ¥å®ŒæˆæŒç»­å‘å¸ƒã€‚æœ€åè¿˜ä¼šåº”ç”¨jenkinsé€šè¿‡pipelineæ•´åˆæ•´ä¸ªæµç¨‹å®ç°CICDã€‚&hellip;</p>
<p>8-1 kubernetesä¸cicd (12:41)</p>
<p>8-2 cicdå®è·µï¼ˆ1ï¼‰ (12:56)</p>
<p>8-3 cicdå®è·µï¼ˆ2ï¼‰ (13:26)</p>
<p>8-4 cicdå®è·µï¼ˆ3ï¼‰ (13:31)</p>
<p>8-5 cicdå®è·µï¼ˆ4ï¼‰ (17:18)</p>
<h2 id="ç¬¬9ç« -æ·±å…¥kubernete---å‡ ä¸ªé‡è¦çš„èµ„æºå¯¹è±¡é€è¿‡è¡¨è±¡çœ‹æœ¬è´¨è£…é€¼å¯é€‰åŒ…4-èŠ‚--83åˆ†é’Ÿ">ç¬¬9ç«  æ·±å…¥kubernete&mdash;å‡ ä¸ªé‡è¦çš„èµ„æºå¯¹è±¡ã€é€è¿‡è¡¨è±¡çœ‹æœ¬è´¨&amp;è£…é€¼å¯é€‰åŒ…ã€‘4 èŠ‚ | 83åˆ†é’Ÿ</h2>
<p>æœ¬ç« ä¸­ä»‹ç»äº†kubernetesçš„é‡è¦èµ„æºï¼šnamespaceã€resourceså’Œlabelã€‚ è®²è§£å¹¶å®è·µäº†ï¼Œå‘½åç©ºé—´å¯¹èµ„æºå¯¹è±¡å’Œèµ„æºé…é¢å¤šå±‚é¢çš„éš”ç¦»æœºåˆ¶ã€podèµ„æºé™åˆ¶çš„é…ç½®æ–¹å¼ã€podåœ¨èŠ‚ç‚¹èµ„æºç´§ç¼ºæ—¶çš„é©±é€æœºåˆ¶ã€labelä½œç”¨äºä¸åŒèµ„æºå¯¹è±¡ä¸Šçš„ä¸åŒçš„ä½œç”¨ç­‰æ ¸å¿ƒçŸ¥è¯†ã€‚ &hellip;</p>
<h3 id="9-1-namespace-----é›†ç¾¤çš„å…±äº«ä¸éš”ç¦»">9-1 Namespace &mdash; é›†ç¾¤çš„å…±äº«ä¸éš”ç¦»</h3>
<p>åˆ›å»ºä¸€ä¸ªnamespace</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1</span><span><span style="color:#f92672">apiVersion</span>: <span style="color:#ae81ff">v1</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2</span><span><span style="color:#f92672">kind</span>: <span style="color:#ae81ff">Namespace</span>
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3</span><span><span style="color:#f92672">metadata</span>:
</span></span><span style="display:flex;"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4</span><span>  <span style="color:#f92672">name</span>: <span style="color:#ae81ff">dev</span>
</span></span></code></pre></div><p>9-2 Resources&mdash;å¤šç»´åº¦é›†ç¾¤èµ„æºç®¡ç†ï¼ˆä¸Šï¼‰ (22:45)</p>
<p>9-3 Resources&mdash;å¤šç»´åº¦é›†ç¾¤èµ„æºç®¡ç†ï¼ˆä¸‹ï¼‰ (22:26)</p>
<p>9-4 Label&mdash;å°æ ‡ç­¾å¤§ä½œä¸º (19:31)
ç¬¬10ç«  æ·±å…¥kubernete&mdash;æœåŠ¡è°ƒåº¦ä¸ç¼–æ’ã€é€è¿‡è¡¨è±¡çœ‹æœ¬è´¨&amp;è£…é€¼å¯é€‰åŒ…ã€‘6 èŠ‚ | 121åˆ†é’Ÿ
æœ¬ç« ä¸­ä¸»è¦å›´ç»•æœåŠ¡çš„è°ƒåº¦ä¸ç¼–æ’è®²è§£è®²è§£å¹¶å®è·µäº†ï¼špodçš„å¥åº·æ£€æŸ¥çš„å‚æ•°é…ç½®åŠå½±å“ã€è°ƒåº¦å™¨çš„æ•´ä½“å·¥ä½œåŸç†ä»¥åŠå¸¸è§çš„é¢„é€‰ç­–ç•¥å’Œä¼˜é€‰ç­–ç•¥ã€å¦‚ä½•åˆ©ç”¨kubernetesæœ¬èº«çš„æœºåˆ¶å®Œæˆä¸åŒçš„éƒ¨ç½²æ–¹å¼ã€‚</p>
<p>10-1 å¥åº·æ£€æŸ¥&mdash;é«˜å¯ç”¨çš„å®ˆæŠ¤è€… (23:06)</p>
<p>10-2 Scheduler&mdash; ç©è½¬podè°ƒåº¦ï¼ˆä¸Šï¼‰ (13:57)</p>
<p>10-3 Scheduler &mdash; ç©è½¬podè°ƒåº¦ï¼ˆä¸‹ï¼‰ (13:49)</p>
<p>10-4 éƒ¨ç½²ç­–ç•¥è¯¦è§£ &mdash; é‡å»ºã€æ»šåŠ¨ã€è“ç»¿ã€é‡‘ä¸é›€ (26:11)</p>
<p>10-5 æ·±å…¥Pod - podç›¸å…³çš„ç‚¹ç‚¹æ»´æ»´ï¼ˆä¸Šï¼‰ (21:24)</p>
<p>10-6 æ·±å…¥Pod - podç›¸å…³çš„ç‚¹ç‚¹æ»´æ»´ï¼ˆä¸‹ï¼‰ (22:04)
ç¬¬11ç«  æ·±å…¥kubernete&mdash; è½åœ°å®è·µæ·±å…¥ã€é€è¿‡è¡¨è±¡çœ‹æœ¬è´¨&amp;è£…é€¼å¯é€‰åŒ…ã€‘7 èŠ‚ | 123åˆ†é’Ÿ
æœ¬ç« ä¸»è¦ä»kubernetesè½åœ°çš„è§’åº¦è¿›è¡Œæ·±å…¥è®²è§£ï¼Œåˆ†åˆ«ä»‹ç»ï¼šingressåœ¨è½åœ°è¿‡ç¨‹å¯èƒ½é‡åˆ°çš„é—®é¢˜ä¸åº”å¯¹æ–¹å¼ã€åŸºäºglusterfsçš„å…±äº«å­˜å‚¨ã€kubernetes apiçš„è®¾è®¡ï¼Œå¹¶ä»¥ä¸€ä¸ªçœŸå®çš„ç¤ºä¾‹é¡¹ç›®è®©å¤§å®¶çœ‹åˆ°å®¹å™¨ç®¡ç†å¹³å°å¯ä»¥åšæˆä»€ä¹ˆæ ·å­çš„ã€‚</p>
<p>11-1 ingress &mdash; å››å±‚ä»£ç†ã€sessionä¿æŒã€å®šåˆ¶é…ç½®ã€æµé‡æ§åˆ¶ï¼ˆä¸Šï¼‰ (17:42)</p>
<p>11-2 ingress &ndash; å››å±‚ä»£ç†ã€sessionä¿æŒã€å®šåˆ¶é…ç½®ã€æµé‡æ§åˆ¶ï¼ˆä¸­ï¼‰ (17:18)</p>
<p>11-3 ingress &mdash; å››å±‚ä»£ç†ã€sessionä¿æŒã€å®šåˆ¶é…ç½®ã€æµé‡æ§åˆ¶ï¼ˆä¸‹ï¼‰ (16:42)</p>
<p>11-4 å…±äº«å­˜å‚¨ &mdash; PVã€PVCå’ŒStorageClassï¼ˆä¸Šï¼‰.mp4 (16:13)</p>
<p>11-5 å…±äº«å­˜å‚¨ &mdash; PVã€PVCå’ŒStorageClassï¼ˆä¸‹ï¼‰ (16:04)</p>
<p>11-6 StatefulSet &mdash; æœ‰çŠ¶æ€åº”ç”¨çš„å®ˆæŠ¤è€… (18:47)</p>
<p>11-7 KubernetesAPI &mdash;å¦‚ä½•å¼€å‘ä¸€ä¸ªåŸºäºkubernetesçš„å®¹å™¨ç®¡ç†å¹³å° (19:38)
ç¬¬12ç«  æ·±å…¥kubernete&mdash;æ—¥å¿—å’Œç›‘æ§ã€é€è¿‡è¡¨è±¡çœ‹æœ¬è´¨&amp;è£…é€¼å¯é€‰åŒ…ã€‘10 èŠ‚ | 131åˆ†é’Ÿ
æœ¬ç« ä¸­å°†ä»‹ç»K8Sä½¿ç”¨è€…å¿…é¡»è€ƒè™‘çš„é‡é‡çº§é—®é¢˜ï¼šæ—¥å¿—ä¸ç›‘æ§ã€‚è¯¾ç¨‹ä¸­ä¼šåˆ†æå½“ä¸‹ä¸»æµçš„æ—¥å¿—å¤„ç†æ–¹æ¡ˆå¹¶é€‰æ‹©ä¸€ç§æ–¹æ¡ˆè¿›è¡Œæ—¥å¿—ä»é‡‡é›†åˆ°å±•ç¤ºçš„å®Œæ•´å®è·µï¼›ä¼šè®²è§£ä¸»æµk8sç›‘æ§æ–¹æ¡ˆprometheusï¼ŒåŒ…æ‹¬å®ƒçš„å®ç°åŸç†ï¼Œæ”¯æŒçš„å„ç§æŒ‡æ ‡ç­‰ã€‚</p>
<p>12-1 å¸¸è§æ—¥å¿—é‡‡é›†é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆåˆ†æ (08:41)</p>
<p>12-2 logpilot+elasticsearch+kibanaæ—¥å¿—å®è·µ (19:26)</p>
<p>12-3 ç›‘æ§å…¥é—¨&mdash;ä»æ•´ä½“æŠŠæ¡ç›‘æ§ (07:39)</p>
<p>12-4 Prometheuså…¥é—¨&mdash;æ¶æ„å’ŒåŸç† (11:45)</p>
<p>12-5 éƒ¨ç½²å‰å¥ - Helm &amp; Operator (10:31)</p>
<p>12-6 ç›‘æ§éƒ¨ç½²å®æˆ˜ - Helm+PrometheusOperator (19:30)</p>
<p>12-7 ç›‘æ§è½åœ° - æŒ‡æ ‡å®Œå–„ã€Grafanaçœ‹æ¿å’Œé‚®ä»¶æŠ¥è­¦ï¼ˆä¸Šï¼‰ (17:16)</p>
<p>12-8 ç›‘æ§è½åœ° - æŒ‡æ ‡å®Œå–„ã€Grafanaçœ‹æ¿å’Œé‚®ä»¶æŠ¥è­¦ï¼ˆä¸­ï¼‰ (17:28)</p>
<p>12-9 ç›‘æ§è½åœ° - æŒ‡æ ‡å®Œå–„ã€Grafanaçœ‹æ¿å’Œé‚®ä»¶æŠ¥è­¦ï¼ˆä¸‹ï¼‰ (18:21)
å›¾æ–‡ï¼š
12-10 ã€æ­¥éª¤æ€»ç»“ï¼Œä¾¿äºå¿«é€Ÿå›é¡¾ã€‘Helméƒ¨ç½²æ–‡æ¡£</p>
<h2 id="ç¬¬13ç« -servicemeshä»£è¡¨ä½œistio">ç¬¬13ç«  ServiceMeshä»£è¡¨ä½œistio</h2>
<p>æœ¬ç« ä¸­æˆ‘ä»¬ä¼šä»istioçš„æ¶æ„è®¾è®¡å¼€å§‹è®©ä½ å¯¹å®ƒçš„å®ç°åŸç†æœ‰æ·±å…¥äº†è§£ï¼Œå¹¶ä¼šéƒ¨ç½²å®Œæ•´çš„istioç¯å¢ƒï¼Œä»æ¶æ„ä¸Šè®©æˆ‘ä»¬çš„æœåŠ¡è‡ªåŠ¨æ”¯æŒistioçš„åŠŸèƒ½ï¼Œæœ€åä½¿ç”¨å‡ ä¸ªistioçš„å¸¸è§å·¥å…·é›†å®ç°æ•°æ®å±•ç°ã€‚</p>
<p>13-1 ä»€ä¹ˆæ˜¯ServiceMeshï¼Ÿä»€ä¹ˆæ˜¯Istioï¼Ÿ (04:51)</p>
<p>å¾®æœåŠ¡æ¶æ„</p>
<p>è®¾ä¹ˆæ˜¯ServiceMesh</p>
<ul>
<li>æœåŠ¡ç½‘æ ¼</li>
<li>æ˜¯æ¦‚å¿µä¸æ˜¯äº§å“</li>
<li>è§£å†³ç½‘ç»œå±‚é¢çš„é—®é¢˜</li>
</ul>
<p>æœåŠ¡å‘ç°ã€è´Ÿè½½å‡è¡¡ã€è·¯ç”±ã€æµé‡æ§åˆ¶ã€æœåŠ¡é—´é€šä¿¡çš„å¯é æ€§ã€ç›‘æ§&mdash;-  API ç½‘å…³ï¼Ÿ</p>
<p>Linkerd</p>
<p>å§‹äº2016å¹´CNCFå®˜æ–¹é¡¹ç›®</p>
<p>1.x åŸºäºèŠ‚ç‚¹(è™šæ‹Ÿæœºã€ç‰©ç†æœº)</p>
<p>2.x åŸºäºkubernetes(conduit)</p>
<p>Istio</p>
<p>Google/IBM/Lyft å‘èµ·çš„å¼€æºé¡¹ç›®ï¼Œ17å¹´æ¨å‡ºï¼Œ18å¹´7æœˆå‘å¸ƒ1.0ã€å¤šå¹³å°æ”¯æŒ</p>
<p>éƒ½æ˜¯åŸºäºsidecaræ¨¡å¼</p>
<p>éƒ½åˆ†ä¸ºæ•°æ®å±‚å’Œæ§åˆ¶å±‚</p>
<p>Istio æ›´å—æ¬¢è¿</p>
<p>Pilot -&gt; envoy æä¾›ä¿¡æ¯ï¼ŒæœåŠ¡å‘ç°ï¼Œ ABæµ‹è¯•</p>
<p>Mixerï¼šç­–ç•¥(è®¿é—®æ§åˆ¶)ã€é¥æµ‹(æ•°æ®æ”¶é›†å’Œæ±‡æŠ¥ï¼ŒæœåŠ¡ä¹‹é—´æµè½¬çš„æ•°æ®)</p>
<p>Galley:  é…ç½®ç®¡ç†ä¸­å¿ƒ</p>
<p>Citadelï¼š å®‰å…¨</p>
<p>æ•…éšœæ’æŸ¥ï¼š</p>
<p>è¯·æ±‚åœ¨å“ªå¤±è´¥çš„ï¼ŒAæœ‰è°ƒç”¨Bå—</p>
<p>ä¸ºä»€ä¹ˆç”¨æˆ·è¯·æ±‚/é¡µé¢hungä½äº†</p>
<p>ä¸ºä»€ä¹ˆç³»ç»Ÿç»„ä»¶è¿™ä¹ˆæ…¢ï¼Ÿé‚£ä¸ªç»„ä»¶æœ€æ…¢ï¼Ÿ</p>
<p>åº”ç”¨å®¹é”™æ€§</p>
<p>å®¢æˆ·ç«¯æ²¡æœ‰è®¾ç½®timeoutå¯¼è‡´åº”ç”¨å¡ä½</p>
<p>æ²¡æœ‰é‡è¯•æœºåˆ¶ï¼ŒæŸä¸ªæœåŠ¡å¶å°”å¼‚å¸¸å¯¼è‡´ç”¨æˆ·é¡µé¢é”™è¯¯</p>
<p>æŸäº›èŠ‚ç‚¹å¼‚å¸¸ï¼Œå¯¼è‡´æœåŠ¡å“åº”æ—¶é—´è¿‡é•¿</p>
<p>åº”ç”¨å‡çº§å‘å¸ƒ</p>
<p>æ–°ç‰ˆæœ¬ä¸€æ¬¡æ€§å‡çº§ï¼Œä¸€æ—¦å‡ºé”™å½±å“èŒƒå›´å¾ˆå¤§</p>
<p>æ— æ³•è¿›è¡ŒABæµ‹è¯•ï¼Œæ ¹æ®ç”¨æˆ·å±æ€§è®¿é—®ä¸åŒç‰ˆæœ¬</p>
<p>æœåŠ¡ç‰ˆæœ¬çš„ä¾èµ–å…³ç³»å¤„ç†ä¸å½“å¯¼è‡´æœåŠ¡ä¸å¯ç”¨</p>
<p>ç³»ç»Ÿå®‰å…¨</p>
<p>æœåŠ¡éƒ½æ˜¯HTTPè€Œéhttps</p>
<p>æ²¡æœ‰æµé‡é™åˆ¶ï¼Œä»»ä½•äººéƒ½å¯ä»¥å¯¹æœåŠ¡å‘èµ·æ”»å‡»</p>
<p>13-2 Istioæ¶æ„å’ŒåŸç† (11:41)</p>
<p>13-3 éƒ¨ç½²istio</p>
<p>13-4 éƒ¨ç½²BookInfoç¤ºä¾‹åº”ç”¨ (11:38)</p>
<p>13-5 é…ç½®è¯·æ±‚è·¯ç”± (08:47)</p>
<p>13-6 æ•…éšœæ³¨å…¥ (07:38)</p>
<p>13-7 æµé‡è½¬ç§» (09:27)</p>
<p>13-8 è®¾ç½®è¯·æ±‚è¶…æ—¶ (03:16)</p>
<p>13-9 ç†”æ–­ (08:44)</p>
<p>13-10 æµé‡é•œåƒ (05:58)</p>
<p>13-11 Istioä¸­çš„Prometheuså’ŒGrafana (11:44)</p>
<p>13-12 åˆ†å¸ƒå¼è¿½è¸ªJaeger (09:29)</p>
<p>13-13 ç½‘æ ¼å¯è§†åŒ– (10:59)
ç¬¬14ç«  è¯¾ç¨‹æ€»ç»“ã€æ²‰æ·€&amp;å±•æœ›ã€‘1 èŠ‚ | 6åˆ†é’Ÿ
æœ¬ç« ä¸­å°†æ€»ç»“æœ¬è¯¾ç¨‹æ‰€å­¦çŸ¥è¯†ï¼Œå±•æœ›dockerå’Œkubernetesçš„å‘å±•ã€‚</p>
<p><a href="https://www.youtube.com/watch?v=2b7MRI6tmMo&amp;list=PLsbVibQXuLjqZwdpSBXR27gNGgtHlQLHR&amp;index=2" target="_blank">https://www.youtube.com/watch?v=2b7MRI6tmMo&list=PLsbVibQXuLjqZwdpSBXR27gNGgtHlQLHR&index=2</a></p>
<p><a href="https://www.youtube.com/watch?v=8MlW9nixkwk&amp;list=PLsbVibQXuLjqw6mCC4QMyLZ282dhdPWr3&amp;index=13" target="_blank">https://www.youtube.com/watch?v=8MlW9nixkwk&list=PLsbVibQXuLjqw6mCC4QMyLZ282dhdPWr3&index=13</a></p>

        </div>

        
        <div class="row pl-3 pr-3">
        
        <div class="col-md-6 share-buttons">
        
          </div>

        
        
          
            
          
          <div class="col-md-6 btn-improve-page">
             
               <a href="https://github.com/airren/airren.github.io/edit/master/content/posts/cloudnative/Kubernates/1-k8s-cloudnative.md" title="Improve this page" target="_blank" rel="noopener">
            
                <i class="fas fa-code-branch"></i>
                Improve this page
              </a>
          </div>
        
        </div>



      
      <hr />
        







  





  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  

  
  


<div class="row next-prev-navigator">
  
  
</div>

      <hr />

      
      
        
    











<script src="https://giscus.app/client.js"
        data-repo="Airren/airren.github.io"
        data-repo-id="R_kgDOIVgjKA"
        data-category="announcements"
        data-category-id="DIC_kwDOIVgjKM4CTB-z"
        data-mapping="pathname"
        data-reactions-enabled="1"
        data-emit-metadata="0"
        data-input-position="bottom"
        data-theme="light"
        data-lang=""
        crossorigin="anonymous"
        async>
</script>





      

      
      

      </div>
    </div>
  </div>
  
  <a id="scroll-to-top" class="btn"><i class="fas fa-chevron-circle-up"></i></a>
  
</section>


      
      
  <section class="toc-section" id="toc-section">
    
    <div class="toc-holder">
      <h5 class="text-center pl-3">Table of Contents</h5>
      <hr>
      <div class="toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#ç¬¬2ç« -kuberneteså¿«é€Ÿå…¥é—¨">ç¬¬2ç«  kuberneteså¿«é€Ÿå…¥é—¨</a>
      <ul>
        <li><a href="#2-1-äº†è§£kubernetes">2-1 äº†è§£kubernetes</a></li>
      </ul>
    </li>
    <li><a href="#heading"></a>
      <ul>
        <li><a href="#2-2-kubernetesçš„æ ¸å¿ƒæ¦‚å¿µ">2-2 kubernetesçš„æ ¸å¿ƒæ¦‚å¿µ</a></li>
        <li><a href="#2-3-kubernetesçš„æ¶æ„è®¾è®¡">2-3 kubernetesçš„æ¶æ„è®¾è®¡</a></li>
        <li><a href="#2-4-kubernetesè®¤è¯çš„å¯†ç å­¦åŸç†-1530">2-4 kubernetesè®¤è¯çš„å¯†ç å­¦åŸç† (15:30)</a></li>
        <li><a href="#2-5-kubernetesçš„è®¤è¯ä¸æˆæƒ">2-5 kubernetesçš„è®¤è¯ä¸æˆæƒ</a></li>
        <li><a href="#2-6-é›†ç¾¤æ­å»ºæ–¹æ¡ˆå¯¹æ¯”">2-6 é›†ç¾¤æ­å»ºæ–¹æ¡ˆå¯¹æ¯”</a></li>
      </ul>
    </li>
    <li><a href="#ç¬¬3ç« -å®¹å™¨è¿è¡Œæ—¶-docker-or-containerd">ç¬¬3ç«  å®¹å™¨è¿è¡Œæ—¶-Docker or Containerd</a>
      <ul>
        <li><a href="#6-4-kubernetesçš„æœåŠ¡å‘ç°">6-4 kubernetesçš„æœåŠ¡å‘ç°</a></li>
      </ul>
    </li>
    <li><a href="#ç¬¬9ç« -æ·±å…¥kubernete---å‡ ä¸ªé‡è¦çš„èµ„æºå¯¹è±¡é€è¿‡è¡¨è±¡çœ‹æœ¬è´¨è£…é€¼å¯é€‰åŒ…4-èŠ‚--83åˆ†é’Ÿ">ç¬¬9ç«  æ·±å…¥kubernete&mdash;å‡ ä¸ªé‡è¦çš„èµ„æºå¯¹è±¡ã€é€è¿‡è¡¨è±¡çœ‹æœ¬è´¨&amp;è£…é€¼å¯é€‰åŒ…ã€‘4 èŠ‚ | 83åˆ†é’Ÿ</a>
      <ul>
        <li><a href="#9-1-namespace-----é›†ç¾¤çš„å…±äº«ä¸éš”ç¦»">9-1 Namespace &mdash; é›†ç¾¤çš„å…±äº«ä¸éš”ç¦»</a></li>
      </ul>
    </li>
    <li><a href="#ç¬¬13ç« -servicemeshä»£è¡¨ä½œistio">ç¬¬13ç«  ServiceMeshä»£è¡¨ä½œistio</a></li>
  </ul>
</nav>
      </div>
    </div>
    
  </section>

    </div>

    
    












  
  
    
  

  
  
    
  

  
  
    
  

  
  
    
    
      
    
  


  
  
  

  
  
  

  
  
  
    
  
  

  
  
  

  <footer id="footer" class="container-fluid text-center align-content-center footer pb-2">
    <div class="container pt-5">
      <div class="row text-left">
        
        <div class="col-md-4 col-sm-12">
          <h5>Navigation</h5>
          
          <ul>
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="https://airren.github.io/#about">About</a>
                </li>
              
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="https://airren.github.io/#skills">Skills</a>
                </li>
              
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="https://airren.github.io/#recent-posts">Recent Posts</a>
                </li>
              
              
                
                
                  
                
                <li class="nav-item">
                  <a class="smooth-scroll" href="https://airren.github.io/#achievements">My Story</a>
                </li>
              
            
              
                
              
            
          </ul>
          
        </div>
        
        
        <div class="col-md-4 col-sm-12">
          <h5>Contact me:</h5>
          <ul>
            
              
                <li><a href=mailto:renqiqiang@outlook.com target="_blank" rel="noopener">
                  <span><i class="fas fa-envelope"></i></span> <span>renqiqiang@outlook.com</span>
                </a></li>
              
            
          </ul>
        </div>
        
        
        
          
          <div class="col-md-4 col-sm-12">
            <p>Stay up to date with email notification</p>
              
              <form
                action="https://github.us1.list-manage.com/subscribe/post?u=19de52a4603135aae97163fd8&amp;amp;id=094a24c76e"
                method="post"
                id="mc-embedded-subscribe-form"
                name="mc-embedded-subscribe-form"
                class="validate"
                target="_blank"
                novalidate >
                <div class="form-group">
                  <input
                    type="email"
                    class="form-control"
                    id="mce-EMAIL"
                    name="EMAIL"
                    aria-describedby="emailHelp"
                    placeholder="Enter email"
                  />
                  <small id="emailHelp" class="form-text text-muted"
                    >By entering your email address, you agree to receive the newsletter of this website.</small
                  >
                </div>
                <button type="submit" class="btn btn-info">Submit</button>
              </form>
            
          </div>
        
      </div>
    </div>
    
    
    <hr />
    <div class="container">
      <div class="row text-left">
        <div class="col-md-4">
          <a id="theme" href="https://github.com/hugo-toha/toha" target="_blank" rel="noopener">
            <img src="/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png" alt="Toha Theme Logo">
            Toha
          </a>
        </div>
        <div class="col-md-4 text-center">Â© 2020-2022 Copyright.</div>
        <div class="col-md-4 text-right">
          <a id="hugo" href="https://gohugo.io/" target="_blank" rel="noopener">Powered by
          <img
            src="/images/hugo-logo.svg"
            alt="Hugo Logo"
            height="18"
          />
          </a>
        </div>
      </div>
    </div>
    
  </footer>


    <script type="text/javascript" src="/js/jquery-3.4.1.min.js"></script>
<script type="text/javascript" src="/js/popper.min.js"></script>
<script type="text/javascript" src="/js/bootstrap.min.js"></script>

<script type="text/javascript" src="/js/navbar.js"></script>
<script type="text/javascript" src="/js/plyr.js"></script>
<script type="text/javascript" src="/js/main.js"></script>



    
    
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js"></script>
<script src="/js/single.js"></script>
<script>
  hljs.initHighlightingOnLoad();
</script>









    
</body>
</html>
