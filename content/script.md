z



AMX 的release的time是2022， 估计现在市面上还没有support的CPU可以用来测试。

所有找了一个AVX512 的code demo. 然后通过AVX512 介绍一下SIMD的使用



再这个示例中是计算两个向量，并把结果写道第三个向量中。

这里定义了ABC3个向量，每个向量都是8个64位浮点数。刚好是512 bit. 每个向量刚好存入一个AVX512寄存器。

右边的这个汇编就是 AVX512 计算两个向量和的实现。 第一行就是把向量A从内存中加载到寄存器0，第二行，就是计算zmm0和内存中向量B的和，并存入zmm0中。第三行就是把zmm0寄存器的值写入到向量C。 这样就得到了计算结果。如果使用SISD命令，就需要对每一个数据单独相加。



接下来我们看下通过调试器来看下 AVX512 寄存器中zmm0中的数据情况，向量A 加载到zmm0的时候，这里可以看到AVX512 支持 的数据类型要远远多于AMX。



接下来我们看一个AMX的指令。_tile_spbf16()

这条指令就是计算两个BF16的点成



AVX 和AMX现在大部分应用场景都是用在机器学习，深度学习 领域，处理一些大规模的矩阵计算。这部分已经有很多人做了很多工作，所以 如果在这方面去做一些基于AMX的或AVX的专利和改进会比较困难。于是我们选择了数据处理这个方向。



在数据处理这个方向。我想简单介绍一下时序数据。通过这张图，大家可能会对时序数据有个初步的概念。

时序数据的吞吐量是非常大的，尤其是IoT设备，设备的规模可能达到千万上亿，数据自动生成，假设1s采样一次，每秒千万、亿级别的数据写入。

在大写入吞吐量的情况下，数据的实时性要求也很高。例如，将时序数据的统计量关联做监控、报警，能容忍的延迟可能在秒级

需要做降频采样、插值、实时计算、聚合等操作，关心的是一段时间的趋势，而不是某一特定时间的值等。





目前我们还没有具体明确要对哪一种具体的算法或者应用场景进行基于AMX的改进。只是看到了这个事情的可能性。例如说我要计算一个指标在一段时间内的均值。这个算法在将采样的过程中非常常见。这一段时间内的时序是指标。 

关于这个应用场景的，大家gan